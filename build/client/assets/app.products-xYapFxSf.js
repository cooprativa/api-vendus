import{R as c,r as b,A as st,B as be,u as rt,c as it,j as u}from"./components-D-S9gEDp.js";import{M as Re,c as P,h as ot,j as lt,s as ct,u as ce,v as ge,k as dt,e as Je,b as se,S as ut,l as ht,m as ft,n as ye,d as A,K as De,o as Fe,p as pt,q as mt,r as gt,t as bt,T as S,I as B,x as Be,w as vt,W as Et,y as Ct,z as xt,A as yt,D as St,P as Tt,C as ve,B as I,a as Nt}from"./Page-C42oK9KW.js";import{T as kt,L as Se}from"./TitleBar-ZDyuXEAA.js";import{S as Pt,B as te}from"./Banner-BujC4gWy.js";import{j as je,a as Dt,h as Ft,k as jt,d as Mt,E as Me,p as _t,l as wt}from"./context-Cy620pk6.js";import{S as Rt,F as It}from"./context-DYfeObr0.js";var Ye=function(r){return c.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),c.createElement("path",{fillRule:"evenodd",d:"M9.116 4.323a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),c.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 15.677a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};Ye.displayName="SortAscendingIcon";var Qe=function(r){return c.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),c.createElement("path",{fillOpacity:.33,fillRule:"evenodd",d:"M9.116 4.823a1.25 1.25 0 0 1 1.768 0l2.646 2.647a.75.75 0 0 1-1.06 1.06l-2.47-2.47-2.47 2.47a.75.75 0 1 1-1.06-1.06l2.646-2.647Z"}),c.createElement("path",{fillRule:"evenodd",d:"M9.116 15.177a1.25 1.25 0 0 0 1.768 0l2.646-2.647a.75.75 0 0 0-1.06-1.06l-2.47 2.47-2.47-2.47a.75.75 0 0 0-1.06 1.06l2.646 2.647Z"}))};Qe.displayName="SortDescendingIcon";var et=function(r){return c.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),c.createElement("path",{d:"M12.72 13.78a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-2.72 2.72-2.72-2.72a.75.75 0 0 0-1.06 1.06l2.72 2.72-2.72 2.72a.75.75 0 1 0 1.06 1.06l2.72-2.72 2.72 2.72Z"}))};et.displayName="XSmallIcon";var Te={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"};function Lt(){const s=b.useContext(Rt);if(!s)throw new Re("No ScrollLockManager was provided.");return s}function At(s){const r=Lt();return b.useEffect(()=>(r.registerScrollLock(),()=>{r.unregisterScrollLock()}),[r]),null}function Ht(s){const{onClick:r,onTouchStart:a,belowNavigation:e,transparent:n,setClosing:t}=s,o=P(Te.Backdrop,e&&Te.belowNavigation,n&&Te.transparent),l=()=>{t&&t(!0)},i=()=>{t&&t(!1),r&&r()};return c.createElement(c.Fragment,null,c.createElement(At,null),c.createElement("div",{className:o,onClick:i,onTouchStart:a,onMouseDown:l}))}var Ot={InlineGrid:"Polaris-InlineGrid"};function Bt({children:s,columns:r,gap:a,alignItems:e}){const n={...lt("inline-grid","grid-template-columns",Vt(r)),...ot("inline-grid","gap","space",a),"--pc-inline-grid-align-items":e};return c.createElement("div",{className:Ot.InlineGrid,style:ct(n)},s)}function Vt(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)?Object.fromEntries(Object.entries(s).map(([r,a])=>[r,Ve(a)])):Ve(s)}function Ve(s){if(s)return typeof s=="number"||!isNaN(Number(s))?`repeat(${Number(s)}, minmax(0, 1fr))`:typeof s=="string"?s:s.map(r=>{switch(r){case"oneThird":return"minmax(0, 1fr)";case"oneHalf":return"minmax(0, 1fr)";case"twoThirds":return"minmax(0, 2fr)"}}).join(" ")}const $t=b.createContext(void 0);var Ne,$e;function Wt(){if($e)return Ne;$e=1;var s=typeof Element<"u",r=typeof Map=="function",a=typeof Set=="function",e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function n(t,o){if(t===o)return!0;if(t&&o&&typeof t=="object"&&typeof o=="object"){if(t.constructor!==o.constructor)return!1;var l,i,d;if(Array.isArray(t)){if(l=t.length,l!=o.length)return!1;for(i=l;i--!==0;)if(!n(t[i],o[i]))return!1;return!0}var h;if(r&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(h=t.entries();!(i=h.next()).done;)if(!o.has(i.value[0]))return!1;for(h=t.entries();!(i=h.next()).done;)if(!n(i.value[1],o.get(i.value[0])))return!1;return!0}if(a&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(h=t.entries();!(i=h.next()).done;)if(!o.has(i.value[0]))return!1;return!0}if(e&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if(l=t.length,l!=o.length)return!1;for(i=l;i--!==0;)if(t[i]!==o[i])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof o.valueOf=="function")return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof o.toString=="function")return t.toString()===o.toString();if(d=Object.keys(t),l=d.length,l!==Object.keys(o).length)return!1;for(i=l;i--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[i]))return!1;if(s&&t instanceof Element)return!1;for(i=l;i--!==0;)if(!((d[i]==="_owner"||d[i]==="__v"||d[i]==="__o")&&t.$$typeof)&&!n(t[d[i]],o[d[i]]))return!1;return!0}return t!==t&&o!==o}return Ne=function(o,l){try{return n(o,l)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}},Ne}var zt=Wt();const Ut=st(zt);function qt(s){return function(r,a){const{firstVisibleColumnIndex:e,tableLeftVisibleEdge:n,tableRightVisibleEdge:t}=s,o=r.offsetLeft,l=o+r.offsetWidth,i=We(o,n,t,"left"),d=We(l,n,t,"right"),h=i||d,p=r.offsetWidth;return h&&(s.firstVisibleColumnIndex=Math.min(e,a)),{leftEdge:o,rightEdge:l,isVisible:h,width:p,index:a}}}function We(s,r,a,e){return s>=r+(e==="left"?0:30)&&s<=a-30}function Gt(s,r){const{firstVisibleColumnIndex:a}=s,e=Math.max(a-1,0),n=r[e],t=r[a];return{previousColumn:n,currentColumn:t}}var E={DataTable:"Polaris-DataTable",condensed:"Polaris-DataTable--condensed",Navigation:"Polaris-DataTable__Navigation",Pip:"Polaris-DataTable__Pip","Pip-visible":"Polaris-DataTable__Pip--visible",ScrollContainer:"Polaris-DataTable__ScrollContainer",Table:"Polaris-DataTable__Table",TableRow:"Polaris-DataTable__TableRow",Cell:"Polaris-DataTable__Cell",IncreasedTableDensity:"Polaris-DataTable__IncreasedTableDensity",ZebraStripingOnData:"Polaris-DataTable__ZebraStripingOnData",RowCountIsEven:"Polaris-DataTable__RowCountIsEven",ShowTotalsInFooter:"Polaris-DataTable__ShowTotalsInFooter","Cell-separate":"Polaris-DataTable__Cell--separate","Cell-firstColumn":"Polaris-DataTable__Cell--firstColumn","Cell-numeric":"Polaris-DataTable__Cell--numeric","Cell-truncated":"Polaris-DataTable__Cell--truncated","Cell-header":"Polaris-DataTable__Cell--header","Cell-sortable":"Polaris-DataTable__Cell--sortable","Heading-left":"Polaris-DataTable__Heading--left","Cell-verticalAlignTop":"Polaris-DataTable__Cell--verticalAlignTop","Cell-verticalAlignBottom":"Polaris-DataTable__Cell--verticalAlignBottom","Cell-verticalAlignMiddle":"Polaris-DataTable__Cell--verticalAlignMiddle","Cell-verticalAlignBaseline":"Polaris-DataTable__Cell--verticalAlignBaseline",hoverable:"Polaris-DataTable--hoverable","Cell-hovered":"Polaris-DataTable__Cell--hovered",Icon:"Polaris-DataTable__Icon",Heading:"Polaris-DataTable__Heading",StickyHeaderEnabled:"Polaris-DataTable__StickyHeaderEnabled",StickyHeaderWrapper:"Polaris-DataTable__StickyHeaderWrapper","Cell-sorted":"Polaris-DataTable__Cell--sorted","Cell-total":"Polaris-DataTable__Cell--total",ShowTotals:"Polaris-DataTable__ShowTotals","Cell-total-footer":"Polaris-DataTable--cellTotalFooter",Footer:"Polaris-DataTable__Footer",StickyHeaderInner:"Polaris-DataTable__StickyHeaderInner","StickyHeaderInner-isSticky":"Polaris-DataTable__StickyHeaderInner--isSticky",StickyHeaderTable:"Polaris-DataTable__StickyHeaderTable",FixedFirstColumn:"Polaris-DataTable__FixedFirstColumn",StickyTableHeadingsRow:"Polaris-DataTable__StickyTableHeadingsRow",TooltipContent:"Polaris-DataTable__TooltipContent"};function ue({content:s,contentType:r,nthColumn:a,firstColumn:e,truncate:n,header:t,total:o,totalInFooter:l,sorted:i,sortable:d,sortDirection:h,inFixedNthColumn:p,verticalAlign:g="top",defaultSortDirection:C="ascending",onSort:y,colSpan:N,setRef:m=()=>{},stickyHeadingCell:D=!1,stickyCellWidth:j,hovered:M=!1,handleFocus:F=()=>{},hasFixedNthColumn:U=!1,fixedCellVisible:K=!1,firstColumnMinWidth:L,style:R,lastFixedFirstColumn:_}){const V=ce(),$=r==="numeric",W=P(E.Cell,E[`Cell-${ge("verticalAlign",g)}`],e&&E["Cell-firstColumn"],n&&E["Cell-truncated"],t&&E["Cell-header"],o&&E["Cell-total"],l&&E["Cell-total-footer"],$&&E["Cell-numeric"],d&&E["Cell-sortable"],i&&E["Cell-sorted"],D&&E.StickyHeaderCell,M&&E["Cell-hovered"],_&&p&&K&&E["Cell-separate"],a&&p&&D&&E.FixedFirstColumn),Z=P(t&&E.Heading,t&&r==="text"&&E["Heading-left"]),X=P(d&&E.Icon),q=i&&h?h:C,J=q==="descending"?Qe:Ye,Y=h==="ascending"?"descending":"ascending",Q=V.translate("Polaris.DataTable.sortAccessibilityLabel",{direction:i?Y:q}),z=c.createElement("span",{className:X},c.createElement(Je,{source:J,accessibilityLabel:Q})),ee=!(D&&U&&a&&!p),v=d?c.createElement("button",{className:Z,onClick:y,onFocus:F,tabIndex:ee?0:-1},z,s):s,k=N&&N>1?{colSpan:N}:{},x=a&&L?{minWidth:L}:{minWidth:j},T=c.createElement("th",Object.assign({ref:m},je.props,k,{className:W,"aria-sort":h,style:{...R,...x},"data-index-table-sticky-heading":!0}),v),H=t?c.createElement("th",Object.assign({},je.props,{"aria-sort":h},k,{ref:m,className:W,scope:"col",style:{...x}}),v):c.createElement("th",Object.assign({},k,{ref:m,className:W,scope:"row",style:{...x}}),n?c.createElement(Kt,{className:E.TooltipContent},s):s),de=t||e||a?H:c.createElement("td",Object.assign({className:W},k),s);return D?T:de}const Kt=({children:s,className:r=""})=>{const a=b.useRef(null),{current:e}=a,n=c.createElement("span",{ref:a,className:r},s);return(e==null?void 0:e.scrollWidth)>(e==null?void 0:e.offsetWidth)?c.createElement(dt,{content:a.current.innerText},n):n};function Xt({children:s,onMount:r,fallback:a=null}){const e=Dt(),n=e?s:a;return b.useEffect(()=>{e&&r&&r()},[e,r]),c.createElement(c.Fragment,null,n)}function Zt(){const s=b.useContext(Ft);if(!s)throw new Re("No StickyManager was provided.");return s}class Jt extends b.Component{constructor(...r){super(...r),this.state={isSticky:!1,style:{}},this.placeHolderNode=null,this.stickyNode=null,this.setPlaceHolderNode=a=>{this.placeHolderNode=a},this.setStickyNode=a=>{this.stickyNode=a},this.handlePositioning=(a,e=0,n=0,t=0)=>{const{isSticky:o}=this.state;(a&&!o||!a&&o)&&(this.adjustPlaceHolderNode(a),this.setState({isSticky:!o},()=>{if(this.props.onStickyChange==null||(this.props.onStickyChange(!o),this.props.boundingElement==null))return null;this.props.boundingElement.toggleAttribute("data-sticky-active")}));const l=a?{position:"fixed",top:e,left:n,width:t}:{};this.setState({style:l})},this.adjustPlaceHolderNode=a=>{this.placeHolderNode&&this.stickyNode&&(this.placeHolderNode.style.paddingBottom=a?`${jt(this.stickyNode).height}px`:"0px")}}componentDidMount(){const{boundingElement:r,offset:a=!1,disableWhenStacked:e=!1,stickyManager:n}=this.props;!this.stickyNode||!this.placeHolderNode||n.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:a,boundingElement:r,disableWhenStacked:e})}componentWillUnmount(){const{stickyManager:r}=this.props;this.stickyNode&&r.unregisterStickyItem(this.stickyNode)}render(){const{style:r,isSticky:a}=this.state,{children:e}=this.props,n=Yt(e)?e(a):e;return c.createElement("div",null,c.createElement("div",{ref:this.setPlaceHolderNode}),c.createElement("div",{ref:this.setStickyNode,style:r},n))}}function Yt(s){return typeof s=="function"}function Qt(s){const r=Zt();return c.createElement(Jt,Object.assign({},s,{stickyManager:r}))}function en({columnVisibilityData:s,isScrolledFarthestLeft:r,isScrolledFarthestRight:a,navigateTableLeft:e,navigateTableRight:n,fixedFirstColumns:t,setRef:o=()=>{}}){const l=ce(),i=s.map((p,g)=>{if(g<t)return;const C=P(E.Pip,p.isVisible&&E["Pip-visible"]);return c.createElement("div",{className:C,key:`pip-${g}`})}),d=l.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"left"}),h=l.translate("Polaris.DataTable.navAccessibilityLabel",{direction:"right"});return c.createElement("div",{className:E.Navigation,ref:o},c.createElement(se,{variant:"tertiary",icon:ut,disabled:r,accessibilityLabel:d,onClick:e}),i,c.createElement(se,{variant:"tertiary",icon:ht,disabled:a,accessibilityLabel:h,onClick:n}))}const ze=s=>{const r=[];return s&&s.forEach(a=>{r.push(a.clientHeight)}),r};class tn extends b.PureComponent{constructor(...r){super(...r),this.state={condensed:!1,columnVisibilityData:[],isScrolledFarthestLeft:!0,isScrolledFarthestRight:!1,rowHovered:void 0},this.dataTable=b.createRef(),this.scrollContainer=b.createRef(),this.table=b.createRef(),this.stickyTable=b.createRef(),this.stickyNav=null,this.headerNav=null,this.tableHeadings=[],this.stickyHeadings=[],this.tableHeadingWidths=[],this.stickyHeaderActive=!1,this.scrollStopTimer=null,this.handleResize=Mt(()=>{const{table:{current:a},scrollContainer:{current:e}}=this;let n=!1;a&&e&&(n=a.scrollWidth>e.clientWidth+1),this.setState({condensed:n,...this.calculateColumnVisibilityData(n)})}),this.setCellRef=({ref:a,index:e,inStickyHeader:n})=>{if(a!=null)if(n){this.stickyHeadings[e]=a;const t=a.querySelector("button");if(t==null)return;t.addEventListener("focus",this.handleHeaderButtonFocus)}else this.tableHeadings[e]=a,this.tableHeadingWidths[e]=a.clientWidth},this.changeHeadingFocus=()=>{const{tableHeadings:a,stickyHeadings:e,stickyNav:n,headerNav:t}=this,o=e.findIndex(C=>{var y;return C===((y=document.activeElement)==null?void 0:y.parentElement)}),l=a.findIndex(C=>{var y;return C===((y=document.activeElement)==null?void 0:y.parentElement)}),i=n==null?void 0:n.querySelectorAll("button"),d=t==null?void 0:t.querySelectorAll("button");let h=-1;i==null||i.forEach((C,y)=>{C===document.activeElement&&(h=y)});let p=-1;if(d==null||d.forEach((C,y)=>{C===document.activeElement&&(p=y)}),o<0&&l<0&&h<0&&p<0)return null;let g;if(o>=0?g=a[o].querySelector("button"):l>=0&&(g=e[l].querySelector("button")),h>=0?g=d==null?void 0:d[h]:p>=0&&(g=i==null?void 0:i[p]),g==null)return null;g.style.visibility="visible",g.focus(),g.style.removeProperty("visibility")},this.calculateColumnVisibilityData=a=>{const e=this.fixedFirstColumns(),{table:{current:n},scrollContainer:{current:t},dataTable:{current:o}}=this,{stickyHeader:l}=this.props;if((l||a)&&n&&t&&o){const i=n.querySelectorAll(je.selector),d=i[e-1],h=e?d.offsetLeft+d.offsetWidth:0;if(i.length>0){const p=i.length-1,g=t.scrollLeft+h,C=t.scrollLeft+o.offsetWidth,y={firstVisibleColumnIndex:p,tableLeftVisibleEdge:g,tableRightVisibleEdge:C},N=[...i].map(qt(y)),m=N[N.length-1],D=e?g===h:g===0;return{columnVisibilityData:N,...Gt(y,N),isScrolledFarthestLeft:D,isScrolledFarthestRight:m.rightEdge<=C}}}return{columnVisibilityData:[],previousColumn:void 0,currentColumn:void 0}},this.handleHeaderButtonFocus=a=>{var g;const e=this.fixedFirstColumns();if(this.scrollContainer.current==null||a.target==null||this.state.columnVisibilityData.length===0)return;const t=a.target.parentNode,o=this.scrollContainer.current.scrollLeft,l=this.scrollContainer.current.offsetWidth,i=o+l,d=this.state.columnVisibilityData.length>0?(g=this.state.columnVisibilityData[e])==null?void 0:g.rightEdge:0,h=t.offsetLeft,p=t.offsetLeft+t.offsetWidth;o>h-d&&(this.scrollContainer.current.scrollLeft=h-d),p>i&&(this.scrollContainer.current.scrollLeft=p-l)},this.stickyHeaderScrolling=()=>{const{current:a}=this.stickyTable,{current:e}=this.scrollContainer;a==null||e==null||(a.scrollLeft=e.scrollLeft)},this.scrollListener=()=>{var a;this.scrollStopTimer&&clearTimeout(this.scrollStopTimer),this.scrollStopTimer=setTimeout(()=>{this.setState(e=>({...this.calculateColumnVisibilityData(e.condensed)}))},100),this.setState({isScrolledFarthestLeft:((a=this.scrollContainer.current)==null?void 0:a.scrollLeft)===0}),this.props.stickyHeader&&this.stickyHeaderActive&&this.stickyHeaderScrolling()},this.handleHover=a=>()=>{this.setState({rowHovered:a})},this.handleFocus=a=>{var d;const e=this.fixedFirstColumns();if(this.scrollContainer.current==null||a.target==null)return;const n=a.target.parentNode,o=this.props?(d=this.state.columnVisibilityData[e])==null?void 0:d.rightEdge:0,i=n.offsetLeft-o;this.scrollContainer.current.scrollLeft>i&&(this.scrollContainer.current.scrollLeft=i)},this.navigateTable=a=>{var h;const e=this.fixedFirstColumns(),{currentColumn:n,previousColumn:t}=this.state,o=(h=this.state.columnVisibilityData[e-1])==null?void 0:h.rightEdge;if(!n||!t)return;let l=0;for(let p=0;p<n.index;p++)l+=this.state.columnVisibilityData[p].width;const{current:i}=this.scrollContainer;return()=>{let p=0;e?p=a==="right"?l-o+n.width:l-t.width-o:p=a==="right"?n.rightEdge:t.leftEdge,i&&(i.scrollLeft=p,requestAnimationFrame(()=>{this.setState(g=>({...this.calculateColumnVisibilityData(g.condensed)}))}))}},this.renderHeading=({heading:a,headingIndex:e,inFixedNthColumn:n,inStickyHeader:t})=>{var R;const{sortable:o,truncate:l=!1,columnContentTypes:i,defaultSortDirection:d,initialSortColumnIndex:h=0,verticalAlign:p,firstColumnMinWidth:g}=this.props,C=this.fixedFirstColumns(),{sortDirection:y=d,sortedColumnIndex:N=h,isScrolledFarthestLeft:m}=this.state;let D;const j=`heading-cell-${e}`,M=`stickyheader-${e}`,F=t?M:j;if(o){const _=o[e],V=_&&N===e;D={defaultSortDirection:d,sorted:V,sortable:_,sortDirection:V?y:"none",onSort:this.defaultOnSort(e),fixedNthColumn:C,inFixedNthColumn:C}}const U=t?this.tableHeadingWidths[e]:void 0,K=!m,L={header:!0,stickyHeadingCell:t,content:a,contentType:i[e],nthColumn:e<C,fixedFirstColumns:C,truncate:l,headingIndex:e,...D,verticalAlign:p,handleFocus:this.handleFocus,stickyCellWidth:U,fixedCellVisible:K,firstColumnMinWidth:g};return n&&t?[c.createElement(ue,Object.assign({key:F},L,{setRef:_=>{this.setCellRef({ref:_,index:e,inStickyHeader:t})},inFixedNthColumn:!1})),c.createElement(ue,Object.assign({key:`${F}-sticky`},L,{setRef:_=>{this.setCellRef({ref:_,index:e,inStickyHeader:t})},inFixedNthColumn:!!C,lastFixedFirstColumn:e===C-1,style:{left:(R=this.state.columnVisibilityData[e])==null?void 0:R.leftEdge}}))]:c.createElement(ue,Object.assign({key:F},L,{setRef:_=>{this.setCellRef({ref:_,index:e,inStickyHeader:t})},lastFixedFirstColumn:e===C-1,inFixedNthColumn:n}))},this.totalsRowHeading=()=>{const{i18n:a,totals:e,totalsName:n}=this.props,t=n||{singular:a.translate("Polaris.DataTable.totalRowHeading"),plural:a.translate("Polaris.DataTable.totalsRowHeading")};return e&&e.filter(o=>o!=="").length>1?t.plural:t.singular},this.renderTotals=({total:a,index:e})=>{const n=this.fixedFirstColumns(),t=`totals-cell-${e}`,{truncate:o=!1,verticalAlign:l,columnContentTypes:i}=this.props;let d,h;e===0&&(d=this.totalsRowHeading()),a!==""&&e>0&&(h=i[e],d=a);const p=this.props.showTotalsInFooter;return c.createElement(ue,{total:!0,totalInFooter:p,nthColumn:e<=n-1,firstColumn:e===0,key:t,content:d,contentType:h,truncate:o,verticalAlign:l})},this.getColSpan=(a,e,n,t)=>{if(this.fixedFirstColumns())return 1;const l=a||1,i=e||n,d=Math.floor(i/l),h=i%l;return t===0?d+h:d},this.defaultRenderRow=({row:a,index:e,inFixedNthColumn:n,rowHeights:t})=>{const{columnContentTypes:o,truncate:l=!1,verticalAlign:i,hoverable:d=!0,headings:h}=this.props,{condensed:p}=this.state,g=this.fixedFirstColumns(),C=P(E.TableRow,d&&E.hoverable);return c.createElement("tr",{key:`row-${e}`,className:C,onMouseEnter:this.handleHover(e),onMouseLeave:this.handleHover()},a.map((y,N)=>{const m=e===this.state.rowHovered,D=`cell-${N}-row-${e}`,j=this.getColSpan(a.length,h.length,o.length,N);return c.createElement(ue,{key:D,content:y,contentType:o[N],nthColumn:N<=g-1,firstColumn:N===0,truncate:l,verticalAlign:i,colSpan:j,hovered:m,style:t?{height:`${t[e]}px`}:{},inFixedNthColumn:p&&n})}))},this.defaultOnSort=a=>{const{onSort:e,defaultSortDirection:n="ascending",initialSortColumnIndex:t}=this.props,{sortDirection:o=n,sortedColumnIndex:l=t}=this.state;let i=n;return l===a&&(i=o==="ascending"?"descending":"ascending"),()=>{this.setState({sortDirection:i,sortedColumnIndex:a},()=>{e&&e(a,i)})}}}componentDidMount(){this.handleResize()}componentDidUpdate(r){Ut(r,this.props)||this.handleResize()}componentWillUnmount(){this.handleResize.cancel()}render(){var f,v,k;const{headings:r,totals:a,showTotalsInFooter:e,rows:n,footerContent:t,hideScrollIndicator:o=!1,increasedTableDensity:l=!1,hasZebraStripingOnData:i=!1,stickyHeader:d=!1,hasFixedFirstColumn:h=!1,pagination:p}=this.props,{condensed:g,columnVisibilityData:C,isScrolledFarthestLeft:y,isScrolledFarthestRight:N}=this.state,m=this.fixedFirstColumns(),D=n.length%2===0,j=P(E.DataTable,g&&E.condensed,a&&E.ShowTotals,e&&E.ShowTotalsInFooter,i&&E.ZebraStripingOnData,i&&D&&E.RowCountIsEven),M=P(E.TableWrapper,g&&E.condensed,l&&E.IncreasedTableDensity,d&&E.StickyHeaderEnabled),F=c.createElement("tr",null,r.map((x,T)=>this.renderHeading({heading:x,headingIndex:T,inFixedNthColumn:!1,inStickyHeader:!1}))),U=a?c.createElement("tr",null,a.map((x,T)=>this.renderTotals({total:x,index:T}))):null,K=n.map(x=>x.slice(0,m)),L=r.slice(0,m),R=a==null?void 0:a.slice(0,m),_=(f=this.table.current)==null?void 0:f.children[0].childNodes,V=(v=this.table.current)==null?void 0:v.children[1].childNodes,$=ze(_),W=ze(V),Z=g&&m!==0&&c.createElement("table",{className:P(E.FixedFirstColumn,!y&&E.separate),style:{width:`${(k=C[m-1])==null?void 0:k.rightEdge}px`}},c.createElement("thead",null,c.createElement("tr",{style:{height:`${$[0]}px`}},L.map((x,T)=>this.renderHeading({heading:x,headingIndex:T,inFixedNthColumn:!0,inStickyHeader:!1}))),a&&!e&&c.createElement("tr",{style:{height:`${$[1]}px`}},R==null?void 0:R.map((x,T)=>this.renderTotals({total:x,index:T})))),c.createElement("tbody",null,K.map((x,T)=>this.defaultRenderRow({row:x,index:T,inFixedNthColumn:!0,rowHeights:W}))),a&&e&&c.createElement("tfoot",null,c.createElement("tr",null,R==null?void 0:R.map((x,T)=>this.renderTotals({total:x,index:T}))))),X=n.map((x,T)=>this.defaultRenderRow({row:x,index:T,inFixedNthColumn:!1})),q=t?c.createElement("div",{className:E.Footer},t):null,J=p?c.createElement(ft,Object.assign({type:"table"},p)):null,Y=e?null:U,Q=e?c.createElement("tfoot",null,U):null,z=x=>o?null:c.createElement(en,{columnVisibilityData:C,isScrolledFarthestLeft:y,isScrolledFarthestRight:N,navigateTableLeft:this.navigateTable("left"),navigateTableRight:this.navigateTable("right"),fixedFirstColumns:m,setRef:T=>{x==="header"?this.headerNav=T:x==="sticky"&&(this.stickyNav=T)}}),ee=d?c.createElement(Xt,null,c.createElement("div",{className:E.StickyHeaderWrapper,role:"presentation"},c.createElement(Qt,{boundingElement:this.dataTable.current,onStickyChange:x=>{this.changeHeadingFocus(),this.stickyHeaderActive=x}},x=>{const T=P(E.StickyHeaderInner,x&&E["StickyHeaderInner-isSticky"]),H=P(E.StickyHeaderTable,!y&&E.separate);return c.createElement("div",{className:T},c.createElement("div",null,z("sticky")),c.createElement("table",{className:H,ref:this.stickyTable},c.createElement("thead",null,c.createElement("tr",{className:E.StickyTableHeadingsRow},r.map((de,ie)=>this.renderHeading({heading:de,headingIndex:ie,inFixedNthColumn:!!(ie<=m-1&&m),inStickyHeader:!0}))))))}))):null;return c.createElement("div",{className:M,ref:this.dataTable},ee,z("header"),c.createElement("div",{className:j},c.createElement("div",{className:E.ScrollContainer,ref:this.scrollContainer},c.createElement(Me,{event:"resize",handler:this.handleResize}),c.createElement(Me,{capture:!0,passive:!0,event:"scroll",handler:this.scrollListener}),Z,c.createElement("table",{className:E.Table,ref:this.table},c.createElement("thead",null,F,Y),c.createElement("tbody",null,X),Q)),J,q))}fixedFirstColumns(){const{hasFixedFirstColumn:r,fixedFirstColumns:a=0,headings:e}=this.props,n=r&&!a?1:a;return n>=e.length?0:n}}function nn(s){const r=ce();return c.createElement(tn,Object.assign({},s,{i18n:r}))}const an=b.memo(function({children:r,disabled:a,root:e}){return b.useEffect(()=>{if(a||!e)return;const n=sn(e)?e.current:e;!n||n.querySelector("[autofocus]")||ye(n,!1)},[a,e]),c.createElement(c.Fragment,null,r)});function sn(s){return s.current!==void 0}function Ce(){return Ce=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var e in a)({}).hasOwnProperty.call(a,e)&&(s[e]=a[e])}return s},Ce.apply(null,arguments)}function Ie(s,r){if(s==null)return{};var a={};for(var e in s)if({}.hasOwnProperty.call(s,e)){if(r.indexOf(e)!==-1)continue;a[e]=s[e]}return a}function _e(s,r){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,e){return a.__proto__=e,a},_e(s,r)}function Le(s,r){s.prototype=Object.create(r.prototype),s.prototype.constructor=s,_e(s,r)}function rn(s,r){return s.classList?!!r&&s.classList.contains(r):(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+r+" ")!==-1}function on(s,r){s.classList?s.classList.add(r):rn(s,r)||(typeof s.className=="string"?s.className=s.className+" "+r:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+r))}function Ue(s,r){return s.replace(new RegExp("(^|\\s)"+r+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ln(s,r){s.classList?s.classList.remove(r):typeof s.className=="string"?s.className=Ue(s.className,r):s.setAttribute("class",Ue(s.className&&s.className.baseVal||"",r))}const qe={disabled:!1},xe=c.createContext(null);var tt=function(r){return r.scrollTop},fe="unmounted",ne="exited",ae="entering",le="entered",we="exiting",G=function(s){Le(r,s);function r(e,n){var t;t=s.call(this,e,n)||this;var o=n,l=o&&!o.isMounting?e.enter:e.appear,i;return t.appearStatus=null,e.in?l?(i=ne,t.appearStatus=ae):i=le:e.unmountOnExit||e.mountOnEnter?i=fe:i=ne,t.state={status:i},t.nextCallback=null,t}r.getDerivedStateFromProps=function(n,t){var o=n.in;return o&&t.status===fe?{status:ne}:null};var a=r.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(n){var t=null;if(n!==this.props){var o=this.state.status;this.props.in?o!==ae&&o!==le&&(t=ae):(o===ae||o===le)&&(t=we)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var n=this.props.timeout,t,o,l;return t=o=l=n,n!=null&&typeof n!="number"&&(t=n.exit,o=n.enter,l=n.appear!==void 0?n.appear:o),{exit:t,enter:o,appear:l}},a.updateStatus=function(n,t){if(n===void 0&&(n=!1),t!==null)if(this.cancelNextCallback(),t===ae){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:be.findDOMNode(this);o&&tt(o)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ne&&this.setState({status:fe})},a.performEnter=function(n){var t=this,o=this.props.enter,l=this.context?this.context.isMounting:n,i=this.props.nodeRef?[l]:[be.findDOMNode(this),l],d=i[0],h=i[1],p=this.getTimeouts(),g=l?p.appear:p.enter;if(!n&&!o||qe.disabled){this.safeSetState({status:le},function(){t.props.onEntered(d)});return}this.props.onEnter(d,h),this.safeSetState({status:ae},function(){t.props.onEntering(d,h),t.onTransitionEnd(g,function(){t.safeSetState({status:le},function(){t.props.onEntered(d,h)})})})},a.performExit=function(){var n=this,t=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:be.findDOMNode(this);if(!t||qe.disabled){this.safeSetState({status:ne},function(){n.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:we},function(){n.props.onExiting(l),n.onTransitionEnd(o.exit,function(){n.safeSetState({status:ne},function(){n.props.onExited(l)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(n,t){t=this.setNextCallback(t),this.setState(n,t)},a.setNextCallback=function(n){var t=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,t.nextCallback=null,n(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},a.onTransitionEnd=function(n,t){this.setNextCallback(t);var o=this.props.nodeRef?this.props.nodeRef.current:be.findDOMNode(this),l=n==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],d=i[0],h=i[1];this.props.addEndListener(d,h)}n!=null&&setTimeout(this.nextCallback,n)},a.render=function(){var n=this.state.status;if(n===fe)return null;var t=this.props,o=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var l=Ie(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return c.createElement(xe.Provider,{value:null},typeof o=="function"?o(n,l):c.cloneElement(c.Children.only(o),l))},r}(c.Component);G.contextType=xe;G.propTypes={};function oe(){}G.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:oe,onEntering:oe,onEntered:oe,onExit:oe,onExiting:oe,onExited:oe};G.UNMOUNTED=fe;G.EXITED=ne;G.ENTERING=ae;G.ENTERED=le;G.EXITING=we;var cn=function(r,a){return r&&a&&a.split(" ").forEach(function(e){return on(r,e)})},ke=function(r,a){return r&&a&&a.split(" ").forEach(function(e){return ln(r,e)})},Ae=function(s){Le(r,s);function r(){for(var e,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return e=s.call.apply(s,[this].concat(t))||this,e.appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(l,i){var d=e.resolveArguments(l,i),h=d[0],p=d[1];e.removeClasses(h,"exit"),e.addClass(h,p?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(l,i)},e.onEntering=function(l,i){var d=e.resolveArguments(l,i),h=d[0],p=d[1],g=p?"appear":"enter";e.addClass(h,g,"active"),e.props.onEntering&&e.props.onEntering(l,i)},e.onEntered=function(l,i){var d=e.resolveArguments(l,i),h=d[0],p=d[1],g=p?"appear":"enter";e.removeClasses(h,g),e.addClass(h,g,"done"),e.props.onEntered&&e.props.onEntered(l,i)},e.onExit=function(l){var i=e.resolveArguments(l),d=i[0];e.removeClasses(d,"appear"),e.removeClasses(d,"enter"),e.addClass(d,"exit","base"),e.props.onExit&&e.props.onExit(l)},e.onExiting=function(l){var i=e.resolveArguments(l),d=i[0];e.addClass(d,"exit","active"),e.props.onExiting&&e.props.onExiting(l)},e.onExited=function(l){var i=e.resolveArguments(l),d=i[0];e.removeClasses(d,"exit"),e.addClass(d,"exit","done"),e.props.onExited&&e.props.onExited(l)},e.resolveArguments=function(l,i){return e.props.nodeRef?[e.props.nodeRef.current,l]:[l,i]},e.getClassNames=function(l){var i=e.props.classNames,d=typeof i=="string",h=d&&i?i+"-":"",p=d?""+h+l:i[l],g=d?p+"-active":i[l+"Active"],C=d?p+"-done":i[l+"Done"];return{baseClassName:p,activeClassName:g,doneClassName:C}},e}var a=r.prototype;return a.addClass=function(n,t,o){var l=this.getClassNames(t)[o+"ClassName"],i=this.getClassNames("enter"),d=i.doneClassName;t==="appear"&&o==="done"&&d&&(l+=" "+d),o==="active"&&n&&tt(n),l&&(this.appliedClasses[t][o]=l,cn(n,l))},a.removeClasses=function(n,t){var o=this.appliedClasses[t],l=o.base,i=o.active,d=o.done;this.appliedClasses[t]={},l&&ke(n,l),i&&ke(n,i),d&&ke(n,d)},a.render=function(){var n=this.props;n.classNames;var t=Ie(n,["classNames"]);return c.createElement(G,Ce({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(c.Component);Ae.defaultProps={classNames:""};Ae.propTypes={};function dn(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function He(s,r){var a=function(t){return r&&b.isValidElement(t)?r(t):t},e=Object.create(null);return s&&b.Children.map(s,function(n){return n}).forEach(function(n){e[n.key]=a(n)}),e}function un(s,r){s=s||{},r=r||{};function a(h){return h in r?r[h]:s[h]}var e=Object.create(null),n=[];for(var t in s)t in r?n.length&&(e[t]=n,n=[]):n.push(t);var o,l={};for(var i in r){if(e[i])for(o=0;o<e[i].length;o++){var d=e[i][o];l[e[i][o]]=a(d)}l[i]=a(i)}for(o=0;o<n.length;o++)l[n[o]]=a(n[o]);return l}function re(s,r,a){return a[r]!=null?a[r]:s.props[r]}function hn(s,r){return He(s.children,function(a){return b.cloneElement(a,{onExited:r.bind(null,a),in:!0,appear:re(a,"appear",s),enter:re(a,"enter",s),exit:re(a,"exit",s)})})}function fn(s,r,a){var e=He(s.children),n=un(r,e);return Object.keys(n).forEach(function(t){var o=n[t];if(b.isValidElement(o)){var l=t in r,i=t in e,d=r[t],h=b.isValidElement(d)&&!d.props.in;i&&(!l||h)?n[t]=b.cloneElement(o,{onExited:a.bind(null,o),in:!0,exit:re(o,"exit",s),enter:re(o,"enter",s)}):!i&&l&&!h?n[t]=b.cloneElement(o,{in:!1}):i&&l&&b.isValidElement(d)&&(n[t]=b.cloneElement(o,{onExited:a.bind(null,o),in:d.props.in,exit:re(o,"exit",s),enter:re(o,"enter",s)}))}}),n}var pn=Object.values||function(s){return Object.keys(s).map(function(r){return s[r]})},mn={component:"div",childFactory:function(r){return r}},Oe=function(s){Le(r,s);function r(e,n){var t;t=s.call(this,e,n)||this;var o=t.handleExited.bind(dn(t));return t.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},t}var a=r.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(n,t){var o=t.children,l=t.handleExited,i=t.firstRender;return{children:i?hn(n,l):fn(n,o,l),firstRender:!1}},a.handleExited=function(n,t){var o=He(this.props.children);n.key in o||(n.props.onExited&&n.props.onExited(t),this.mounted&&this.setState(function(l){var i=Ce({},l.children);return delete i[n.key],{children:i}}))},a.render=function(){var n=this.props,t=n.component,o=n.childFactory,l=Ie(n,["component","childFactory"]),i=this.state.contextValue,d=pn(this.state.children).map(o);return delete l.appear,delete l.enter,delete l.exit,t===null?c.createElement(xe.Provider,{value:i},d):c.createElement(xe.Provider,{value:i},c.createElement(t,l,d))},r}(c.Component);Oe.propTypes={};Oe.defaultProps=mn;var Pe={Body:"Polaris-Modal__Body",NoScrollBody:"Polaris-Modal__NoScrollBody",IFrame:"Polaris-Modal__IFrame"},Ge={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"};function nt({children:s,flush:r=!1,subdued:a=!1,titleHidden:e=!1}){const n=P(Ge.Section,e&&Ge.titleHidden);return c.createElement("div",{className:n},c.createElement(A,Object.assign({as:"section",padding:r?"0":"400"},e&&{paddingInlineEnd:"0"},a&&{background:"bg-surface-tertiary"}),s))}var w={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};function gn({trapping:s}){const r=b.useContext(It),a=b.useId();if(!r)throw new Re("No FocusManager was provided.");const{trapFocusList:e,add:n,remove:t}=r,o=e[0]===a,l=b.useMemo(()=>({canSafelyFocus:o}),[o]);return b.useEffect(()=>{if(s)return n(a),()=>{t(a)}},[n,a,t,s]),l}function bn({trapping:s=!0,children:r}){const{canSafelyFocus:a}=gn({trapping:s}),e=b.useRef(null),[n,t]=b.useState(!0);b.useEffect(()=>{const i=a&&!(e.current&&e.current.contains(document.activeElement))?!s:!0;t(i)},[a,s]);const o=i=>{const d=e.current&&e.current.contains(document.activeElement);s===!1||!e.current||d||i.target instanceof Element&&i.target.matches(`${_t.selector} *`)||a&&i.target instanceof HTMLElement&&e.current!==i.target&&!e.current.contains(i.target)&&ye(e.current)},l=i=>{if(s===!1||!e.current)return;const d=pt(e.current),h=mt(e.current);i.target===h&&!i.shiftKey&&(i.preventDefault(),gt(e.current)),i.target===d&&i.shiftKey&&(i.preventDefault(),bt(e.current))};return c.createElement(an,{disabled:n,root:e.current},c.createElement("div",{ref:e},c.createElement(Me,{event:"focusin",handler:o}),c.createElement(De,{keyCode:Fe.Tab,keyEvent:"keydown",handler:l}),r))}function vn({instant:s,labelledBy:r,children:a,limitHeight:e,size:n,onClose:t,onExited:o,onEntered:l,setClosing:i,hasToasts:d,...h}){const p=wt(),g=b.useRef(null),C=b.useContext($t);let y;C&&(y=C.toastMessages);const N=P(w.Modal,n&&w[ge("size",n)],e&&w.limitHeight),m=s?G:Cn;b.useEffect(()=>{g.current&&!g.current.contains(document.activeElement)&&ye(g.current)},[]);const D=()=>{i&&i(!0)},j=()=>{i&&i(!1),t()},M=c.createElement("div",{"aria-live":"assertive"},y?y.map(F=>c.createElement(S,{visuallyHidden:!0,as:"p",key:F.id},F.content)):null);return c.createElement(m,Object.assign({},h,{nodeRef:g,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(p.motion["motion-duration-200"],10),onEntered:l,onExited:o}),c.createElement("div",{className:w.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:g},c.createElement(bn,null,c.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":r,"aria-labelledby":r,tabIndex:-1,className:w.Dialog},c.createElement("div",{className:N},c.createElement(De,{keyCode:Fe.Escape,keyEvent:"keydown",handler:D}),c.createElement(De,{keyCode:Fe.Escape,handler:j}),a),M))))}const En={appear:P(w.animateFadeUp,w.entering),appearActive:P(w.animateFadeUp,w.entered),enter:P(w.animateFadeUp,w.entering),enterActive:P(w.animateFadeUp,w.entered),exit:P(w.animateFadeUp,w.exiting),exitActive:P(w.animateFadeUp,w.exited)};function Cn({children:s,...r}){return c.createElement(Ae,Object.assign({},r,{classNames:En}),s)}function Ke({pressed:s,onClick:r}){const a=ce();return c.createElement(se,{variant:"tertiary",pressed:s,icon:Pt,onClick:r,accessibilityLabel:a.translate("Polaris.Common.close")})}function xn({id:s,children:r,closing:a,titleHidden:e,onClose:n}){const t="400",o="400";return e||!r?c.createElement(A,{position:"absolute",insetInlineEnd:t,insetBlockStart:o,zIndex:"1"},c.createElement(Ke,{onClick:n})):c.createElement(A,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:t,paddingInlineEnd:t,borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},c.createElement(Bt,{columns:{xs:"1fr auto"},gap:"400"},c.createElement(B,{gap:"400",blockAlign:"center"},c.createElement(S,{id:s,as:"h2",variant:"headingMd",breakWord:!0},r)),c.createElement(Ke,{pressed:a,onClick:n})))}function yn({primaryAction:s,secondaryActions:r,children:a}){const e=s&&Be(s,{variant:"primary"})||null,n=r&&Be(r)||null,t=e||n?c.createElement(B,{gap:"200"},n,e):null;return c.createElement(B,{gap:"400",blockAlign:"center"},c.createElement(A,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},c.createElement(B,{gap:"400",blockAlign:"center",align:"space-between"},c.createElement(A,null,a),t)))}const Xe=200,Sn=400,pe=function({children:r,title:a,titleHidden:e=!1,src:n,iFrameName:t,open:o,instant:l,sectioned:i,loading:d,size:h,limitHeight:p,footer:g,primaryAction:C,secondaryActions:y,onScrolledToBottom:N,activator:m,activatorWrapper:D="div",onClose:j,onIFrameLoad:M,onTransitionEnd:F,noScroll:U}){const[K,L]=b.useState(Xe),[R,_]=b.useState(!1),V=b.useId(),$=b.useRef(null),Z=ce().translate("Polaris.Modal.iFrameTitle");let X,q;const J=b.useCallback(()=>{F&&F()},[F]),Y=b.useCallback(()=>{L(Xe);const f=m&&Ze(m)?m&&m.current:$.current;f&&requestAnimationFrame(()=>ye(f))},[m]),Q=b.useCallback(f=>{const v=f.target;if(v&&v.contentWindow)try{L(v.contentWindow.document.body.scrollHeight)}catch{L(Sn)}M!=null&&M(f)},[M]);if(o){const f=!g&&!C&&!y?null:c.createElement(yn,{primaryAction:C,secondaryActions:y},g),v=i?vt(r,nt,{titleHidden:e}):r,k=d?c.createElement(A,{padding:"400"},c.createElement(B,{gap:"400",align:"center",blockAlign:"center"},c.createElement(yt,null))):v,x=U?c.createElement("div",{className:Pe.NoScrollBody},c.createElement(A,{width:"100%",overflowX:"hidden",overflowY:"hidden"},k)):c.createElement(xt,{shadow:!0,className:Pe.Body,onScrolledToBottom:N},k),T=n?c.createElement("iframe",{name:t,title:Z,src:n,className:Pe.IFrame,onLoad:Q,style:{height:`${K}px`}}):x;X=c.createElement(vn,{instant:l,labelledBy:V,onClose:j,onEntered:J,onExited:Y,size:h,limitHeight:p,setClosing:_},c.createElement(xn,{titleHidden:e,id:V,closing:R,onClose:j},a),T,f),q=c.createElement(Ht,{setClosing:_,onClick:j})}const z=!l,ee=m&&!Ze(m)?c.createElement(A,{ref:$,as:D},m):null;return c.createElement(Et.Provider,{value:!0},ee,c.createElement(Ct,{idPrefix:"modal"},c.createElement(Oe,{appear:z,enter:z,exit:z},X),q))};function Ze(s){return Object.prototype.hasOwnProperty.call(s,"current")}pe.Section=nt;var O={Tag:"Polaris-Tag",disabled:"Polaris-Tag--disabled",clickable:"Polaris-Tag--clickable",linkable:"Polaris-Tag--linkable",removable:"Polaris-Tag--removable",Button:"Polaris-Tag__Button",Link:"Polaris-Tag__Link",segmented:"Polaris-Tag--segmented",Text:"Polaris-Tag__Text",sizeLarge:"Polaris-Tag--sizeLarge",overlay:"Polaris-Tag--overlay"};function he({children:s,disabled:r=!1,onClick:a,onRemove:e,accessibilityLabel:n,url:t,size:o}){const l=ce(),i=e&&t,d=P(O.Tag,r&&O.disabled,a&&O.clickable,e&&O.removable,t&&!r&&O.linkable,i&&O.segmented,o&&O[ge("size",o)]);let h=n;h||(h=typeof s=="string"?s:void 0);const p=c.createElement(S,{as:"span",variant:"bodySm",truncate:!0},c.createElement("span",{title:h,className:O.Text},s));if(a)return c.createElement("button",{type:"button",disabled:r,className:d,onClick:a},p);const g=l.translate("Polaris.Tag.ariaLabel",{children:h||""}),C=e?c.createElement("button",{type:"button","aria-label":g,className:P(O.Button,i&&O.segmented),onClick:e,onMouseUp:St,disabled:r},c.createElement(Je,{source:et})):null,y=t&&!r?c.createElement("a",{className:P(O.Link,i&&O.segmented),href:t},p):p;return c.createElement("span",{className:d,"aria-disabled":r},y,o==="large"&&c.createElement("span",{className:O.overlay}),C)}var Ee={List:"Polaris-List",typeNumber:"Polaris-List--typeNumber",Item:"Polaris-List__Item",spacingLoose:"Polaris-List--spacingLoose"};function Tn({children:s}){return c.createElement("li",{className:Ee.Item},s)}const me=function({children:r,gap:a="loose",type:e="bullet"}){const n=P(Ee.List,a&&Ee[ge("spacing",a)],e&&Ee[ge("type",e)]),t=e==="bullet"?"ul":"ol";return c.createElement(t,{className:n},r)};me.Item=Tn;function Mn(){var Z,X,q,J,Y,Q,z,ee;const s=rt(),{hasApiKey:r,apiKeyLength:a,apiCallResult:e,permanentShortcuts:n,searchResults:t,debug:o}=s,l=it(),[i,d]=b.useState([]),[h,p]=b.useState(""),[g,C]=b.useState(!1),[y,N]=b.useState(!1),[m,D]=b.useState(null),j=l.state==="submitting"&&((Z=l.formData)==null?void 0:Z.get("actionType"))==="search",M=l.state==="submitting",F=b.useCallback(()=>{const f=h.trim();if(!f)return;const v=i.includes(f),k=n.includes(f);if(v||k){console.log("Shortcut already exists");return}d(x=>[...x,f]),p("")},[h,i,n]),U=b.useCallback(f=>{f.key==="Enter"&&(f.preventDefault(),F())},[F]),K=b.useCallback(()=>{if(i.length===0)return;const f=new FormData;f.append("actionType","add"),f.append("shortcuts",JSON.stringify(i)),l.submit(f,{method:"post"}),d([]),p("")},[i,l]),L=b.useCallback(f=>{const v=new FormData;v.append("actionType","remove"),v.append("shortcut",f),l.submit(v,{method:"post"})},[l]),R=b.useCallback(()=>{const f=new FormData;f.append("actionType","search"),l.submit(f,{method:"post"})},[l]),_=b.useCallback(f=>{d(v=>v.filter(k=>k!==f))},[]),V=b.useCallback((f,v)=>{D({ref:f,...v}),N(!0)},[]),$=t?Object.entries(t.found).map(([f,v])=>{var k,x,T;return[f,v.productData.title||"N/A",v.productData.id||"N/A",v.productData.reference||"N/A",v.productData.code||"N/A",v.page.toString(),v.position.toString(),((k=v.productData.images)==null?void 0:k.length)>0?"Sim":"Não",((x=v.productData.colors)==null?void 0:x.length)>0?v.productData.colors.join(", "):"N/A",((T=v.productData.sizes)==null?void 0:T.length)>0?v.productData.sizes.join(", "):"N/A"]}):[],W=(t==null?void 0:t.notFound)||[];return u.jsxs(Tt,{children:[u.jsx(kt,{title:"Integração com a API Vendus"}),u.jsxs(Se,{children:[u.jsxs(Se.Section,{children:[u.jsx(ve,{children:u.jsxs(I,{gap:"300",children:[u.jsx(S,{as:"h2",variant:"headingMd",children:"Status da Integração com a API"}),r?u.jsx(te,{status:"success",children:u.jsxs("p",{children:["Chave da API do Vendus configurada (Tamanho: ",a," caracteres)"]})}):u.jsx(te,{status:"warning",children:u.jsx("p",{children:"Nenhuma chave da API do Vendus configurada. Por favor, configure nas Definições primeiro."})}),(e==null?void 0:e.error)&&u.jsx(te,{status:"critical",children:u.jsx("p",{children:e.error})}),(e==null?void 0:e.success)&&u.jsx(te,{status:"success",children:u.jsx(I,{gap:"200",children:u.jsx("p",{children:e.message})})}),((X=l.data)==null?void 0:X.error)&&u.jsx(te,{status:"critical",children:u.jsxs(I,{gap:"100",children:[u.jsx("p",{children:l.data.error}),l.data.debug&&u.jsxs(S,{as:"p",variant:"bodySm",children:["Debug: ",l.data.debug]})]})}),((q=l.data)==null?void 0:q.success)&&((J=l.data)==null?void 0:J.message)&&u.jsx(te,{status:"success",children:u.jsx("p",{children:l.data.message})}),((Y=l.data)==null?void 0:Y.success)&&((Q=l.data)==null?void 0:Q.searchResults)&&u.jsx(te,{status:"success",children:u.jsxs("p",{children:["Pesquisa concluída! ",l.data.searchResults.totalFound," de ",l.data.searchResults.totalSearched," referências encontradas."]})})]})}),u.jsx(ve,{children:u.jsxs(I,{gap:"200",children:[u.jsx(S,{as:"h3",variant:"headingMd",children:"Produtos Externos"}),t&&u.jsxs(I,{gap:"200",children:[u.jsxs(B,{gap:"200",align:"space-between",children:[u.jsxs(S,{as:"p",variant:"bodyMd",children:["Última pesquisa: ",new Date(t.searchDate).toLocaleString("pt-PT")]}),u.jsx(se,{onClick:()=>C(!0),children:"Ver Resultados Detalhados"})]}),u.jsxs(S,{as:"p",variant:"bodyMd",children:["Encontrados: ",t.totalFound,"/",t.totalSearched," referências"]})]})]})})]}),u.jsxs(Se.Section,{variant:"oneThird",children:[u.jsx(ve,{children:u.jsxs(I,{gap:"300",children:[u.jsx(S,{as:"h2",variant:"headingMd",children:"Adicionar produtos"}),u.jsxs(B,{gap:"200",align:"end",children:[u.jsx(A,{style:{flexGrow:1},children:u.jsx(Nt,{label:"Adicionar novo atalho",value:h,onChange:p,onKeyPress:U,placeholder:"Inserir referências",autoComplete:"off",disabled:M})}),u.jsx(se,{onClick:F,disabled:!h.trim()||i.includes(h.trim())||n.includes(h.trim())||M,children:"Adicionar"})]}),i.length>0&&u.jsxs(I,{gap:"200",children:[u.jsxs(S,{as:"h3",variant:"headingSm",children:["IDs de Produtos Temporários (",i.length,")"]}),u.jsx(B,{gap:"100",wrap:!0,children:i.map((f,v)=>u.jsx(he,{onRemove:()=>_(f),children:f},v))}),u.jsx(se,{primary:!0,onClick:K,disabled:i.length===0||M,loading:M&&((z=l.formData)==null?void 0:z.get("actionType"))==="add",children:M&&((ee=l.formData)==null?void 0:ee.get("actionType"))==="add"?"Submetendo...":`Submeter (${i.length} atalhos)`})]})]})}),u.jsx(ve,{children:u.jsxs(I,{gap:"200",children:[u.jsxs(S,{as:"h3",variant:"headingMd",children:["Lista Permanente de Atalhos (",n.length,")"]}),n.length===0&&u.jsx(S,{as:"p",variant:"bodyMd",children:"Nenhum atalho salvo ainda."}),u.jsx(B,{gap:"100",wrap:!0,children:n.map((f,v)=>u.jsx(he,{onRemove:()=>L(f),children:f},v))}),u.jsx(se,{primary:n.length>0&&r,onClick:R,disabled:j||n.length===0||!r,loading:j,children:j?"Pesquisando...":n.length===0?"Adicione Atalhos Primeiro":r?"Executar Pesquisa":"Configure a Chave da API"})]})})]})]}),u.jsx(pe,{open:g,onClose:()=>C(!1),title:"Resultados da Pesquisa",large:!0,children:u.jsx(pe.Section,{children:t?u.jsxs(I,{gap:"400",children:[u.jsxs(S,{as:"h3",variant:"headingMd",children:["Produtos Encontrados (",t.totalFound,")"]}),$.length>0?u.jsx(nn,{columnContentTypes:["text","text","text","text","text","numeric","numeric","text","text","text"],headings:["Referência Buscada","Título Produto","ID","Referência Produto","Código","Página","Posição","Imagens","Cores","Tamanhos"],rows:$,onRowClick:(f,v)=>{var T;const k=f[0],x=(T=t.found[k])==null?void 0:T.productData;x&&V(k,x)}}):u.jsx(S,{as:"p",variant:"bodyMd",children:"Nenhum produto encontrado para as referências buscadas."}),W.length>0&&u.jsxs(I,{gap:"200",children:[u.jsxs(S,{as:"h3",variant:"headingMd",children:["Referências Não Encontradas (",W.length,")"]}),u.jsx(B,{gap:"100",wrap:!0,children:W.map((f,v)=>u.jsx(he,{children:f},v))})]}),u.jsxs(A,{children:[u.jsx(S,{as:"h4",variant:"headingSm",children:"Dados JSON Completos:"}),u.jsx(A,{as:"pre",padding:"300",background:"bg-surface-secondary",borderRadius:"200",style:{fontSize:"12px",overflow:"auto",maxHeight:"300px",whiteSpace:"pre-wrap"},children:JSON.stringify(t,null,2)})]})]}):u.jsx(S,{as:"p",variant:"bodyMd",children:"Nenhum resultado de pesquisa disponível."})})}),u.jsx(pe,{open:y,onClose:()=>N(!1),title:(m==null?void 0:m.title)||"Detalhes do Produto",large:!0,children:u.jsx(pe.Section,{children:m?u.jsxs(I,{gap:"400",children:[u.jsx(S,{as:"h3",variant:"headingMd",children:m.title}),u.jsxs(S,{as:"p",variant:"bodyMd",children:["**ID:** ",m.id]}),u.jsxs(S,{as:"p",variant:"bodyMd",children:["**Referência:** ",m.reference]}),u.jsxs(S,{as:"p",variant:"bodyMd",children:["**Código:** ",m.code]}),u.jsxs(S,{as:"p",variant:"bodyMd",children:["**Preço:** ",m.price,"€"]}),u.jsxs(S,{as:"p",variant:"bodyMd",children:["**Stock:** ",m.stock]}),u.jsxs(S,{as:"p",variant:"bodyMd",children:["**Descrição:** ",m.description||"N/A"]}),m.images&&m.images.length>0&&u.jsxs(I,{gap:"200",children:[u.jsx(S,{as:"h4",variant:"headingSm",children:"Imagens do Produto:"}),u.jsx(B,{gap:"200",wrap:!0,children:m.images.map((f,v)=>u.jsx(A,{width:"150px",height:"150px",overflow:"hidden",borderRadius:"100",children:u.jsx("img",{src:f,alt:`Product Image ${v+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},v))})]}),m.colors&&m.colors.length>0&&u.jsxs(I,{gap:"200",children:[u.jsx(S,{as:"h4",variant:"headingSm",children:"Cores Disponíveis:"}),u.jsx(B,{gap:"100",wrap:!0,children:m.colors.map((f,v)=>u.jsx(he,{children:f},v))})]}),m.sizes&&m.sizes.length>0&&u.jsxs(I,{gap:"200",children:[u.jsx(S,{as:"h4",variant:"headingSm",children:"Tamanhos Disponíveis:"}),u.jsx(B,{gap:"100",wrap:!0,children:m.sizes.map((f,v)=>u.jsx(he,{children:f},v))})]}),m.variants&&m.variants.length>0&&u.jsxs(I,{gap:"200",children:[u.jsx(S,{as:"h4",variant:"headingSm",children:"Variantes:"}),u.jsx(me,{type:"bullet",children:m.variants.map((f,v)=>{var k,x,T;return u.jsx(me.Item,{children:u.jsxs(S,{as:"span",variant:"bodyMd",children:["**",((k=f.variant)==null?void 0:k.title)||"N/A","** (Ref: ",((x=f.variant)==null?void 0:x.reference)||"N/A",", Code: ",((T=f.variant)==null?void 0:T.code)||"N/A",")",f.gross_price&&` - Price: ${f.gross_price}€`,f.stock&&` - Stock: ${f.stock}`,f.product_variants&&Array.isArray(f.product_variants)&&f.product_variants.length>0&&u.jsx(me,{type:"dash",children:f.product_variants.map((H,de)=>u.jsx(me.Item,{children:u.jsxs(S,{as:"span",variant:"bodySm",children:[H.text||"N/A"," (Code: ",H.code||"N/A",", Barcode: ",H.barcode||"N/A",")",H.price&&` - Price: ${H.price}€`,H.stock&&Array.isArray(H.stock)&&H.stock.length>0&&` - Stock: ${H.stock.map(ie=>ie.qty).reduce((ie,at)=>ie+at,0)}`]})},`${v}-${de}`))})]})},v)})})]}),u.jsxs(A,{children:[u.jsx(S,{as:"h4",variant:"headingSm",children:"Dados Brutos do Produto:"}),u.jsx(A,{as:"pre",padding:"300",background:"bg-surface-secondary",borderRadius:"200",style:{fontSize:"12px",overflow:"auto",maxHeight:"200px",whiteSpace:"pre-wrap"},children:JSON.stringify(m,null,2)})]})]}):u.jsx(S,{as:"p",variant:"bodyMd",children:"Nenhum detalhe do produto selecionado."})})})]})}export{Mn as default};
