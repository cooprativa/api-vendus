"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var appUrl,_dev=require("@remix-run/dev"),_node=require("@remix-run/node"),_vite=require("vite"),_viteTsconfigPaths=_interopRequireDefault(require("vite-tsconfig-paths"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(0,_node.installGlobals)({nativeFetch:!0}),process.env.HOST&&(process.env.HOST.startsWith("http://")||process.env.HOST.startsWith("https://")?process.env.SHOPIFY_APP_URL=process.env.HOST:process.env.SHOPIFY_APP_URL="https://".concat(process.env.HOST),delete process.env.HOST);try{appUrl=new URL(process.env.SHOPIFY_APP_URL||"http://localhost")}catch(e){console.error("Invalid SHOPIFY_APP_URL environment variable. Falling back to http://localhost. Error:",e.message),appUrl=new URL("http://localhost")}var hmrConfig,host=appUrl.hostname;hmrConfig="localhost"===host?{protocol:"ws",host:"localhost",port:64999,clientPort:64999}:{protocol:"wss",host:host,port:parseInt(process.env.FRONTEND_PORT)||8002,clientPort:443};var _default=(0,_vite.defineConfig)({server:{allowedHosts:[host,"youth-cost-advance-animated.trycloudflare.com","tourist-flickr-societies-numbers.trycloudflare.com","achieving-superior-campaigns-acoustic.trycloudflare.com","textbook-deluxe-properties-inform.trycloudflare.com","vehicle-doctor-brakes-dress.trycloudflare.com","acquired-store-clips-yourself.trycloudflare.com","assembly-pt-barry-cindy.trycloudflare.com","https://b9a0-2001-818-dcec-f800-3992-38fc-f3f1-3be1.ngrok-free.app","assembly-pt-barry-cindy.trycloudflare.com","wool-clinic-standing-cities.trycloudflare.com","http://localhost:3000","teams-wait-rise-ve.trycloudflare.com","damage-platforms-blessed-woods.trycloudflare.com","damage-platforms-blessed-woods.trycloudflare.com","damage-platforms-blessed-woods.trycloudflare.com","prescription-screenshot-calculation-evaluations.trycloudflare.com","complement-losing-commissions-wrap.trycloudflare.com","emotional-regularly-boy-mls.trycloudflare.com","clothes-assumptions-globe-van.trycloudflare.com","canal-fellowship-downloading-kai.trycloudflare.com","e77b-2001-818-dcec-f800-39a8-e93f-fb40-34a.ngrok-free.app"],cors:{preflightContinue:!0},port:Number(process.env.PORT||3e3),hmr:hmrConfig,fs:{allow:["app","node_modules"]}},plugins:[(0,_dev.vitePlugin)({serverModuleFormat:"esm",ignoredRouteFiles:["**/.*"],future:{v3_fetcherPersist:!0,v3_relativeSplatPath:!0,v3_throwAbortReason:!0,v3_lazyRouteDiscovery:!0,v3_singleFetch:!1,v3_routeConfig:!0}}),(0,_viteTsconfigPaths.default)()],build:{assetsInlineLimit:0},optimizeDeps:{include:["@shopify/app-bridge-react","@shopify/polaris"]},ssr:{external:["express","@remix-run/express","@remix-run/node","http"]}});exports.default=_default;
//# sourceMappingURL=vite.config.min.js.map
