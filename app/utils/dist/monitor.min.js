"use strict";function ownKeys(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(o,!0).forEach(function(t){_defineProperty(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):ownKeys(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function _defineProperty(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _objectWithoutProperties(t,e){if(null==t)return{};var o,n,r=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)o=i[n],0<=e.indexOf(o)||Object.prototype.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var o,n,r={},i=Object.keys(t);for(n=0;n<i.length;n++)o=i[n],0<=e.indexOf(o)||(r[o]=t[o]);return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMonitorState=getMonitorState,exports.startMonitor=startMonitor,exports.stopMonitor=stopMonitor,exports.toggleMonitor=toggleMonitor;var monitorState={isRunning:!1,lastRun:null,nextRun:null,interval:3e4,timeoutId:null};function getMonitorState(){monitorState.timeoutId;return _objectSpread({},_objectWithoutProperties(monitorState,["timeoutId"]))}function startMonitor(o){if(monitorState.isRunning)console.log("Monitor is already running.");else if("function"==typeof o){monitorState.isRunning=!0,console.log("Monitor started. Next run in ".concat(monitorState.interval/1e3," seconds."));!function e(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(monitorState.lastRun=(new Date).toISOString(),monitorState.nextRun=new Date(Date.now()+monitorState.interval).toISOString(),console.log("Executing scheduled task. Next run at: ".concat(monitorState.nextRun)),t.prev=3,"function"==typeof o)return t.next=7,regeneratorRuntime.awrap(o());t.next=9;break;case 7:t.next=13;break;case 9:return console.error("Error: Scheduled callback is no longer a function:",o),clearTimeout(monitorState.timeoutId),monitorState.isRunning=!1,t.abrupt("return");case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),console.error("âŒ Error executing monitor callback:",t.t0);case 18:return t.prev=18,monitorState.timeoutId=setTimeout(e,monitorState.interval),t.finish(18);case 21:case"end":return t.stop()}},null,null,[[3,15,18,21]])}()}else console.error("Error: startMonitor received a non-function callback. Monitor cannot be started.",o)}function stopMonitor(){monitorState.isRunning?(clearTimeout(monitorState.timeoutId),monitorState.isRunning=!1,monitorState.nextRun=null,monitorState.timeoutId=null,console.log("Monitor stopped.")):console.log("Monitor is not running.")}function toggleMonitor(t){return monitorState.isRunning?stopMonitor():startMonitor(t),monitorState.isRunning}
//# sourceMappingURL=monitor.min.js.map
