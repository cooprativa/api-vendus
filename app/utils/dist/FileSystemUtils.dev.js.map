{"version":3,"sources":["FileSystemUtils.js"],"names":["FileSystemUtils","fs","mkdir","DATA_DIR","recursive","console","error","filePath","defaultValue","ensureDataDirectory","readFile","data","JSON","parse","log","writeFile","stringify"],"mappings":";;;;;;;AACA;;AACA;;;;;;;;IAEaA,e;;;;;;;;;;;;;;;;8CAGDC,aAAGC,KAAH,CAASC,iBAAT,EAAmB;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAnB,C;;;;;;;;;AAENC,cAAAA,OAAO,CAACC,KAAR,CAAc,kCAAd;;;;;;;;;;;;iCAKsBC,Q;;;;;;;;AAAUC,cAAAA,Y,8DAAe,I;;;8CAEzC,KAAKC,mBAAL,E;;;;8CACaR,aAAGS,QAAH,CAAYH,QAAZ,EAAsB,OAAtB,C;;;AAAbI,cAAAA,I;gDACCC,IAAI,CAACC,KAAL,CAAWF,IAAX,C;;;;;AAEPN,cAAAA,OAAO,CAACS,GAAR,4BAAgCP,QAAhC,uBAA4DC,YAA5D;gDACOA,Y;;;;;;;;;;;kCAIgBD,Q,EAAUI,I;;;;;;;8CAE3B,KAAKF,mBAAL,E;;;;8CACAR,aAAGc,SAAH,CAAaR,QAAb,EAAuBK,IAAI,CAACI,SAAL,CAAeL,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAvB,C;;;gDACC,I;;;;;AAEPN,cAAAA,OAAO,CAACC,KAAR,gCAAsCC,QAAtC","sourcesContent":["// app/utils/FileSystemUtils.js\r\nimport { promises as fs } from \"fs\";\r\nimport { DATA_DIR } from \"../constants/monitor\";\r\n\r\nexport class FileSystemUtils {\r\n  static async ensureDataDirectory() {\r\n    try {\r\n      await fs.mkdir(DATA_DIR, { recursive: true });\r\n    } catch (error) {\r\n      console.error(\"Failed to create data directory:\", error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  static async readJsonFile(filePath, defaultValue = null) {\r\n    try {\r\n      await this.ensureDataDirectory();\r\n      const data = await fs.readFile(filePath, \"utf-8\");\r\n      return JSON.parse(data);\r\n    } catch (error) {\r\n      console.log(`No file found at ${filePath}, using default:`, defaultValue);\r\n      return defaultValue;\r\n    }\r\n  }\r\n\r\n  static async writeJsonFile(filePath, data) {\r\n    try {\r\n      await this.ensureDataDirectory();\r\n      await fs.writeFile(filePath, JSON.stringify(data, null, 2));\r\n      return true;\r\n    } catch (error) {\r\n      console.error(`Failed to write file ${filePath}:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n}\r\n"],"file":"FileSystemUtils.dev.js"}