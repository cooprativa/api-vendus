{"version":3,"sources":["shopify-products.server.js"],"names":["_promises","_interopRequireDefault","require","_nodeFetch","readProducts","data","regeneratorRuntime","async","_context","prev","next","awrap","fs","readFile","sent","abrupt","JSON","parse","stop","createProducts","shop","accessToken","products","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","product","res","errText","json","_context2","undefined","Symbol","iterator","done","value","concat","method","headers","X-Shopify-Access-Token","Content-Type","body","stringify","ok","text","console","error","log","title","t0","finish"],"mappings":"4IAAA,IAAAA,UAAAC,uBAAAC,QAAA,gBACAC,WAAAF,uBAAAC,QAAA,uFAEO,SAAeE,eAAf,IAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAE,KAAA,EAAAJ,mBAAAK,MACcC,UAAAA,QAAGC,SAAS,2BAA4B,UADtD,KAAA,EAAA,OACCR,EADDG,EAAAM,KAAAN,EAAAO,OAAA,SAEEC,KAAKC,MAAMZ,IAFb,KAAA,EAAA,IAAA,MAAA,OAAAG,EAAAU,UAHP,SAAAC,eAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAzB,mBAAAC,MAAA,SAAAyB,GAAA,OAAA,OAAAA,EAAAvB,KAAAuB,EAAAtB,MAAA,KAAA,EAAA,OAAAsB,EAAAtB,KAAA,EAAAJ,mBAAAK,MASyBP,gBATzB,KAAA,EASQkB,EATRU,EAAAlB,KAAAU,IAAAD,GAAA,GAAAE,OAAAQ,EAAAD,EAAAvB,KAAA,EAAAiB,EAWwBJ,EAXxBY,OAAAC,YAAA,KAAA,EAAA,GAAAZ,GAAAI,EAAAD,EAAAhB,QAAA0B,KAAA,CAAAJ,EAAAtB,KAAA,GAAA,MAAA,OAWakB,EAXbD,EAAAU,MAAAL,EAAAtB,KAAA,GAAAJ,mBAAAK,OAYsB,EAAAR,WAAA,SAAA,WAAAmC,OAAiBlB,EAAjB,oCAAyD,CACzEmB,OAAQ,OAVPC,QAAepC,CAAfqC,yBAAApB,EAAAqB,eAAA,oBAAAC,KAAA3B,KAAA4B,UAAA,CAAAhB,QAAAA,OAHP,KAAA,GAAA,IAYUC,EAZVG,EAAAlB,MAGO+B,GAHP,CAAAb,EAAAtB,KAAA,GAAA,MAAA,OAAAsB,EAAAtB,KAAA,GAAAJ,mBAAAK,MAsB4BkB,EAAIiB,QAtBhC,KAAA,GAAA,OAsBYhB,EAtBZE,EAAAlB,KAGOiC,QAAAC,MAAA,2BAAAlB,GAHPE,EAAAjB,OAAA,WAAA,IAAA,KAAA,GAAA,OAAAiB,EAAAtB,KAAA,GAAAJ,mBAAAK,MAGOkB,EAAAE,QAHP,KAAA,GAGOA,EAHPC,EAAAlB,KAGOiC,QAAAE,IAAA,mBAAAlB,EAAAH,QAAAsB,OAHP,KAAA,GAAA3B,GAAA,EAAAS,EAAAtB,KAAA,EAAA,MAAA,KAAA,GAAAsB,EAAAtB,KAAA,GAAA,MAAA,KAAA,GAAAsB,EAAAvB,KAAA,GAAAuB,EAAAmB,GAAAnB,EAAA,MAAA,GAAAR,GAAA,EAAAC,EAAAO,EAAAmB,GAAA,KAAA,GAAAnB,EAAAvB,KAAA,GAAAuB,EAAAvB,KAAA,GAAAc,GAAA,MAAAG,EAAA,QAAAA,EAAA,SAAA,KAAA,GAAA,GAAAM,EAAAvB,KAAA,GAAAe,EAAA,MAAAC,EAAAO,EAAAtB,KAAA,GAAA,MAAA,KAAA,GAAA,OAAAsB,EAAAoB,OAAA,IAAA,KAAA,GAAA,OAAApB,EAAAoB,OAAA,IAAA,KAAA,GAAA,IAAA,MAAA,OAAApB,EAAAd,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,GAAA,GAAA,IAAA,CAAA,GAAA,CAAA,GAAA","file":"shopify-products.server.min.js","sourcesContent":["import fs from 'fs/promises';\r\nimport fetch from 'node-fetch';\r\n\r\nexport async function readProducts() {\r\n  const data = await fs.readFile('./app/data/products.json', 'utf-8');\r\n  return JSON.parse(data);\r\n}\r\n\r\nexport async function createProducts(shop, accessToken) {\r\n  const products = await readProducts();\r\n\r\n  for (const product of products) {\r\n    const res = await fetch(`https://${shop}/admin/api/2023-07/products.json`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'X-Shopify-Access-Token': 'a1d03f7890d80a36637785aa69a0c668-1752152787',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ product }),\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const errText = await res.text();\r\n      console.error('Failed creating product:', errText);\r\n      continue;\r\n    }\r\n\r\n    const json = await res.json();\r\n    console.log('Created product:', json.product.title);\r\n  }\r\n}\r\n"]}
