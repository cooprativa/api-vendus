"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sessionStorage=exports.registerWebhooks=exports.login=exports.unauthenticated=exports.authenticate=exports.addDocumentResponseHeaders=exports.apiVersion=exports.default=void 0,require("@shopify/shopify-app-remix/adapters/node");var _server=require("@shopify/shopify-app-remix/server"),_shopifyAppSessionStoragePrisma=require("@shopify/shopify-app-session-storage-prisma"),_db=_interopRequireDefault(require("./db.server")),_shopifyApi=require("@shopify/shopify-api");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(r,e){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),o.push.apply(o,s)}return o}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(o,!0).forEach(function(e){_defineProperty(r,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ownKeys(o).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function _defineProperty(e,r,o){return r in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}var SHOPIFY_API_KEY="6b604bcb8589b5c8171814656a502d08",SHOPIFY_API_SECRET="44736dfe0ee8b616e78c745bda7f8171",SHOPIFY_APP_URL="https://prescription-screenshot-calculation-evaluations.trycloudflare.com",SCOPES="write_products,read_products,write_inventory,read_inventory,write_orders,read_orders,write_customers,read_customers,read_locations,read_markets_home,read_publications,write_publications";console.log("--- Shopify App Configuration Debugging ---"),console.log("LATEST_API_VERSION resolved to:",_shopifyApi.LATEST_API_VERSION),console.log("Using SHOPIFY_API_KEY:",SHOPIFY_API_KEY),console.log("Using SHOPIFY_API_SECRET (first 5 chars):",SHOPIFY_API_SECRET.substring(0,5)+"..."),console.log("Using SHOPIFY_APP_URL:",SHOPIFY_APP_URL),console.log("Using SCOPES:",SCOPES),console.log("--- End Debugging Logs ---");var shopify=(0,_server.shopifyApp)(_objectSpread({apiKey:SHOPIFY_API_KEY,apiSecretKey:SHOPIFY_API_SECRET,apiVersion:_shopifyApi.LATEST_API_VERSION,scopes:SCOPES.split(","),appUrl:SHOPIFY_APP_URL,authPathPrefix:"/auth",sessionStorage:new _shopifyAppSessionStoragePrisma.PrismaSessionStorage(_db.default),distribution:_server.AppDistribution.AppStore,future:{unstable_newEmbeddedAuthStrategy:!0,removeRest:!0}},process.env.SHOP_CUSTOM_DOMAIN?{customShopDomains:[process.env.SHOP_CUSTOM_DOMAIN]}:{})),_default=shopify;exports.default=_default;var apiVersion=_shopifyApi.LATEST_API_VERSION;exports.apiVersion=apiVersion;var addDocumentResponseHeaders=shopify.addDocumentResponseHeaders;exports.addDocumentResponseHeaders=addDocumentResponseHeaders;var authenticate=shopify.authenticate;exports.authenticate=authenticate;var unauthenticated=shopify.unauthenticated;exports.unauthenticated=unauthenticated;var login=shopify.login;exports.login=login;var registerWebhooks=shopify.registerWebhooks;exports.registerWebhooks=registerWebhooks;var sessionStorage=shopify.sessionStorage;exports.sessionStorage=sessionStorage;
//# sourceMappingURL=shopify.server.min.js.map
